window.matchMedia=window.matchMedia||(function(doc,undefined){var bool,docElem=doc.documentElement,refNode=docElem.firstElementChild||docElem.firstChild,fakeBody=doc.createElement('body'),div=doc.createElement('div');div.id='mq-test-1';div.style.cssText="position:absolute;top:-100em";fakeBody.style.background="none";fakeBody.appendChild(div);return function(q){div.innerHTML='&shy;<style media="'+q+'"> #mq-test-1 { width: 42px; }</style>';docElem.insertBefore(fakeBody,refNode);bool=div.offsetWidth===42;docElem.removeChild(fakeBody);return{matches:bool,media:q}}}(document));function checkCases(){var caseList=[];var data;var media;var matches;var cases=document.querySelectorAll('meta[name=case]');for(var i=0;i<cases.length;i++){caseList[i]={};data=cases[i].getAttribute('data');media=cases[i].getAttribute('media');matches=window.matchMedia(media).matches;if(matches){document.documentElement.classList.add('case-'+data)}else{document.documentElement.classList.remove('case-'+data)}caseList[i].data=data;caseList[i].media=media;caseList[i].matches=matches};return caseList}function logCases(){console.log('window.caseList:',window.caseList);console.log('<html> classList:',document.documentElement.classList.toString())}window.caseList=checkCases();window.addEventListener('resize',function(){console.log('resize');window.caseList=checkCases();logCases()})logCases();